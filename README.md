# ä½æ”¾å°„æ€§å»¢æ£„ç‰©è™•ç½®ç®¡ç†ç³»çµ± (LLRWD-RMS)

> Low-level Radiowaste Disposal Management System - éšå±¤åŒ–é …ç›®ç®¡ç†èˆ‡å¯©æ ¸æµç¨‹ç³»çµ±

## å°ˆæ¡ˆæ¦‚è¿°

LLRWD-RMS æ˜¯ä¸€å€‹åŸºæ–¼ Next.js é–‹ç™¼çš„å°ˆæ¡ˆé …ç›®è³‡è¨Šç®¡ç†ç³»çµ±ï¼Œæä¾›éšå±¤å¼é …ç›®çµæ§‹ã€è‡ªå‹•ç·¨è™Ÿã€è®Šæ›´å¯©æ ¸æµç¨‹ã€ä»¥åŠå¤šå±¤ç´šæ¬Šé™æ§ç®¡ã€‚æœ¬ç³»çµ±è‡´åŠ›æ–¼æä¾›ç¾ä»£åŒ–ã€ç›´è¦ºä¸”å…¨ä¸­æ–‡åŒ–çš„ç®¡ç†ä»‹é¢ã€‚

### ä¸»è¦åŠŸèƒ½

- ğŸ“ **å°ˆæ¡ˆèˆ‡é …ç›®ç®¡ç†** - éšå±¤å¼é …ç›®çµæ§‹ (æ¨¹ç‹€çµæ§‹)ï¼Œæ”¯æ´ç„¡é™å±¤ç´šå­é …ç›®ã€é¸å–®æ‘ºç–Šèˆ‡é …ç›®é«˜äº®
- ğŸ“‹ **å°ˆæ¡ˆè¤‡è£½åŠŸèƒ½** - ä¸€éµè¤‡è£½å°ˆæ¡ˆçµæ§‹ï¼Œæ”¯æ´é¸æ“‡æ€§è¤‡è£½é …ç›®å…§å®¹èˆ‡é™„ä»¶
- âš–ï¸ **å°ˆæ¡ˆæ²»ç† (Project Governance)** - å°ˆæ¡ˆç·¨è¼¯èˆ‡åˆªé™¤çš†ç´å…¥å¯©æ ¸æµç¨‹ï¼Œç¢ºä¿ç•°å‹•å¯æ§ï¼ˆç·¨è¼¯: Editor+, åˆªé™¤: Adminï¼‰
- ğŸ”¢ **è‡ªå‹•ç·¨è™Ÿ** - é …ç›®è‡ªå‹•ç”¢ç”Ÿå”¯ä¸€ç·¨è™Ÿ (å¦‚ `WQ-1`, `WQ-1-1`)
- âœ… **å¯©æ ¸æµç¨‹** - è®Šæ›´ç”³è«‹éœ€ç¶“å¯©æ ¸ (å»ºç«‹/ç·¨è¼¯/åˆªé™¤)ï¼ŒåŒ…å« Projectã€Item èˆ‡ DataFileã€‚æ”¯æ´ã€Œå¾…ä¿®æ”¹ç”³è«‹ã€ç®¡ç†èˆ‡å–æ¶ˆç”³è«‹åŠŸèƒ½ã€‚
- ğŸ”„ **QC/PM è¤‡å¯©æ©Ÿåˆ¶** - å“è³ªæ–‡ä»¶å¯©æ ¸æ”¯æ´é€€å›ä¿®è¨‚èˆ‡é‡æ–°æäº¤ï¼Œè¨˜éŒ„ä¿®è¨‚æ¬¡æ•¸
- ğŸ” **å°ˆæ¡ˆæœå°‹** - å°ˆæ¡ˆå…§å…¨æ–‡æœå°‹ï¼Œé—œéµå­—é«˜äº®é¡¯ç¤ºï¼Œéæ¿¾ HTML/JSON èªæ³•
- ğŸ” **æ¬Šé™æ§ç®¡** - å››å±¤è§’è‰²æ¬Šé™ (Viewer/Editor/Inspector/Admin)ï¼Œè‡ªæˆ‘å¯©æ ¸é˜²æ­¢æ©Ÿåˆ¶ (ADMIN ä¾‹å¤–)ï¼Œå…è¨±ä½¿ç”¨è€…æ’¤å›æˆ–å–æ¶ˆè‡ªå·±çš„ç”³è«‹
- ğŸ“ **å¯Œæ–‡æœ¬ç·¨è¼¯** - æ”¯æ´æ–‡å­—æ ¼å¼ã€è‡ªå®šç¾©å¤§å°è¡¨æ ¼ (1x1 ~ 20x20)ã€åœ–ç‰‡ã€å„ªåŒ– Link æ’å…¥æµç¨‹ (æ”¯æ´åŒæ™‚è¼¸å…¥æ–‡å­—èˆ‡ URL)
- ğŸ“ **æª”æ¡ˆé™„ä»¶** - æ”¯æ´ PDFã€Wordã€åœ–ç‰‡ä¸Šå‚³
- ğŸ“„ **æª”æ¡ˆç®¡ç†ç³»çµ±** - ç¨ç«‹æª”æ¡ˆç®¡ç†æ¨¡çµ„ï¼Œæ”¯æ´æ‹–æ”¾ä¸Šå‚³ (100MB)ã€å¹´ä»½åˆ†é¡ã€å¡ç‰‡/æ¸…å–®é›™è¦–åœ–ã€æ’åºã€æœå°‹ã€å¯©æ ¸æµç¨‹èˆ‡å‰å¾Œæ¯”è¼ƒ
- ğŸ•°ï¸ **é …ç›®æ­·å²ç´€éŒ„** - å®Œæ•´è¨˜éŒ„é …ç›®çš„å»ºç«‹ã€è®Šæ›´èˆ‡åˆªé™¤æ­·å²ï¼Œæ”¯æ´ç‰ˆæœ¬æ¯”å° (Diff) èˆ‡å¿«ç…§æª¢è¦–
- ğŸ“„ **ISO å“è³ªæ–‡ä»¶ç”Ÿæˆ** - é …ç›®è®Šæ›´å¯©æ ¸é€šéå¾Œè‡ªå‹•ç”Ÿæˆ PDF å“è³ªç´€éŒ„å–® (çµåˆ pdf-lib èˆ‡ Puppeteer å¯¦ç¾é«˜çœŸåº¦å¤šé æ­·å²å¿«ç…§)
- ğŸ” **ISO æ–‡ä»¶æœå°‹èˆ‡ä¸‹è¼‰** - æ”¯æ´æŒ‰å°ˆæ¡ˆæœå°‹æ–‡ä»¶ã€é¡¯ç¤ºæœ€è¿‘æ›´æ–°ç´€éŒ„ã€ç›´æ¥ä¸‹è¼‰ PDF
- âœï¸ **å“è³ªæ–‡ä»¶æ•¸ä½ç°½ç« ** - å…©éšæ®µå¯©æ ¸æµç¨‹ (QC å¯©æ ¸ â†’ PM æ ¸å®š)ï¼Œè‡ªå‹•åµŒå…¥ QC/PM æ•¸ä½ç°½åè‡³ PDF
- âœ… **ç°½æ ¸æ„è¦‹è‡ªå‹•å¡«å…¥** - å¯©æ ¸è€…/QC/PM è‹¥æœªå¡«å¯«æ„è¦‹ï¼Œè‡ªå‹•å¡«å…¥ã€ŒåŒæ„ã€
- ğŸ“Š **å…¨åŸŸè®Šæ›´æ­·å²** - æä¾›å…¨åŸŸè®Šæ›´æ­·å² Dashboardï¼Œæœ€è¿‘æ›´æ–°ç´€éŒ„ (æœ€æ–°100ç­†ï¼Œæ”¯æ´ç¯©é¸é …ç›®/æª”æ¡ˆ)
- ğŸ’¾ **ç³»çµ±å‚™ä»½èˆ‡å¾©åŸ** - å®Œæ•´å‚™ä»½è³‡æ–™åº« (SQL) èˆ‡å¯¦é«”æª”æ¡ˆ (ZIP)ï¼Œæ”¯æ´ç½é›£å¾©åŸèˆ‡é€²åº¦é¡¯ç¤º
- ğŸ¨ **Infographic Bento Grid é¦–é ** - æ¡ç”¨ç¾ä»£åŒ– Bento Grid ä½ˆå±€ï¼Œçµåˆå·¥æ¥­é¢¨é»‘ç™½æ”å½±èˆ‡è³‡æ–™è¦–è¦ºåŒ–ï¼Œå‘ˆç¾ç³»çµ±æ¦‚è¦½èˆ‡å¾…è¾¦äº‹é …
- ğŸ¹ **Accordion æ¨¹ç‹€å°è¦½** - æ­·å²ç´€éŒ„å´é‚Šæ¬„æ”¯æ´å±•é–‹/æ‘ºç–Šæ‰‹é¢¨ç´æ•ˆæœ
- ğŸ” **è©³ç´°å¯©æŸ¥ç´€éŒ„** - æ­·å²è©³æƒ…é é¡¯ç¤ºæäº¤è€…ã€æ ¸å‡†è€…ã€QCã€PM å§“åèˆ‡æ™‚é–“æˆ³è¨˜ã€ä¿®è¨‚æ­·ç¨‹
- ğŸŒ“ **ä¸»é¡Œåˆ‡æ›** - æ·ºè‰²/æ·±è‰²æ¨¡å¼
- ğŸ›¡ï¸ **é€²éšèªè­‰å®‰å…¨** - ç™»å…¥å¯©è¨ˆæ—¥èªŒã€å¯†ç¢¼è¤‡é›œåº¦ç­–ç•¥ã€å¸³è™Ÿé–å®šæ©Ÿåˆ¶ (5 æ¬¡å¤±æ•—é– 15 åˆ†é˜)ã€Admin è§£é–åŠŸèƒ½
- ğŸ³ **å®¹å™¨åŒ–éƒ¨ç½²** - æ”¯æ´ Docker éƒ¨ç½²ï¼ŒåŒ…å« Nginx åå‘ä»£ç†èˆ‡ HTTPS
- â˜ï¸ **Vercel éƒ¨ç½²æ”¯æ´** - æ”¯æ´ Serverless éƒ¨ç½²è‡³ Vercel + Neon PostgreSQL

---

## æŠ€è¡“æ£§

| é¡åˆ¥ | æŠ€è¡“ | ç‰ˆæœ¬ |
|------|------|------|
| æ¡†æ¶ | Next.js (App Router) | 14.2.35 |
| èªè¨€ | TypeScript | ^5 |
| è³‡æ–™åº« | Prisma + PostgreSQL | Prisma 5.22.0 |
| èªè­‰ | NextAuth.js | ^4.24.13 |
| ç·¨è¼¯å™¨ | Tiptap (ProseMirror-based) | ^3.14.0 |
| PDF ç”Ÿæˆ | pdf-lib + Puppeteer | pdf-lib ^1.17.1, puppeteer ^24.34.0 |
| ç‹€æ…‹ç®¡ç† | Zustand | ^5.0.9 |
| æ¨£å¼ | Vanilla CSS + CSS Variables | - |
| éƒ¨ç½² | Docker + Nginx / Vercel + Neon | - |

---

## å¥—ä»¶ä¾è³´èªªæ˜

ä»¥ä¸‹ç‚ºç³»çµ±æ‰€æœ‰ä¾è³´å¥—ä»¶çš„å®Œæ•´èªªæ˜ï¼Œç¢ºä¿æ–°ç’°å¢ƒå¯é †åˆ©å®‰è£ã€‚

### æ ¸å¿ƒæ¡†æ¶

| å¥—ä»¶ | èªªæ˜ | å®‰è£æŒ‡ä»¤ |
|------|------|----------|
| `next` | Next.js æ¡†æ¶æ ¸å¿ƒ | å·²åŒ…å«åœ¨ package.json |
| `react` / `react-dom` | React UI æ¡†æ¶ | å·²åŒ…å«åœ¨ package.json |
| `typescript` | TypeScript èªè¨€æ”¯æ´ | å·²åŒ…å«åœ¨ devDependencies |

### è³‡æ–™åº«èˆ‡èªè­‰

| å¥—ä»¶ | èªªæ˜ |
|------|------|
| `prisma` | è³‡æ–™åº« ORM é–‹ç™¼å·¥å…· (devDependency) |
| `@prisma/client` | Prisma å®¢æˆ¶ç«¯ï¼Œç”¨æ–¼è³‡æ–™åº«æŸ¥è©¢ |
| `next-auth` | ä½¿ç”¨è€…èªè­‰ç³»çµ± (Credentials Provider) |
| `bcryptjs` | å¯†ç¢¼é›œæ¹ŠåŠ å¯† |

### å¯Œæ–‡æœ¬ç·¨è¼¯å™¨ (Tiptap)

| å¥—ä»¶ | èªªæ˜ |
|------|------|
| `@tiptap/react` | Tiptap React ç¶å®š |
| `@tiptap/starter-kit` | åŸºç¤ç·¨è¼¯å™¨åŠŸèƒ½å¥—ä»¶ |
| `@tiptap/extension-image` | åœ–ç‰‡æ’å…¥åŠŸèƒ½ |
| `@tiptap/extension-link` | è¶…é€£çµåŠŸèƒ½ |
| `@tiptap/extension-table` | è¡¨æ ¼ä¸»åŠŸèƒ½ |
| `@tiptap/extension-table-cell` | è¡¨æ ¼å„²å­˜æ ¼ |
| `@tiptap/extension-table-header` | è¡¨æ ¼æ¨™é¡Œåˆ— |
| `@tiptap/extension-table-row` | è¡¨æ ¼è¡Œ |
| `@tiptap/extension-text-align` | æ–‡å­—å°é½ŠåŠŸèƒ½ |
| `tiptap-extension-resize-image` | åœ–ç‰‡ç¸®æ”¾åŠŸèƒ½ |

### PDF ç”Ÿæˆèˆ‡è™•ç†

| å¥—ä»¶ | èªªæ˜ |
|------|------|
| `pdf-lib` | ç´” JavaScript PDF ç”Ÿæˆ/ä¿®æ”¹å‡½å¼åº« |
| `@pdf-lib/fontkit` | è‡ªå®šç¾©å­—å‹åµŒå…¥æ”¯æ´ (ä¸­æ–‡å­—å‹) |
| `puppeteer` | ç„¡é ­ç€è¦½å™¨ï¼Œç”¨æ–¼ HTML è½‰ PDF èˆ‡æˆªåœ–æ¸²æŸ“ |
| `pdfkit` | (å‚™ç”¨) PDF ç”Ÿæˆå‡½å¼åº« |

> âš ï¸ **Puppeteer æ³¨æ„äº‹é …**: æ­¤å¥—ä»¶æœƒè‡ªå‹•ä¸‹è¼‰ Chromium ç€è¦½å™¨ (~200MB)ï¼Œé¦–æ¬¡å®‰è£éœ€ç¢ºä¿ç¶²è·¯æš¢é€šã€‚

### æª”æ¡ˆè™•ç†

| å¥—ä»¶ | èªªæ˜ |
|------|------|
| `adm-zip` | ZIP æª”æ¡ˆè§£å£“ç¸® (ç”¨æ–¼å‚™ä»½é‚„åŸ) |
| `archiver` | ZIP æª”æ¡ˆå£“ç¸® (ç”¨æ–¼ç³»çµ±å‚™ä»½) |

### UI å·¥å…·

| å¥—ä»¶ | èªªæ˜ |
|------|------|
| `clsx` | æ¢ä»¶å¼ CSS class åç¨±çµ„åˆå·¥å…· |
| `zustand` | è¼•é‡ç´šå‰ç«¯ç‹€æ…‹ç®¡ç† |
| `react-easy-crop` | åœ–ç‰‡è£åˆ‡åŠŸèƒ½ (ç°½åä¸Šå‚³) |

### é–‹ç™¼å·¥å…· (devDependencies)

| å¥—ä»¶ | èªªæ˜ |
|------|------|
| `eslint` / `eslint-config-next` | ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥ |
| `vitest` | å–®å…ƒæ¸¬è©¦æ¡†æ¶ |
| `@types/*` | TypeScript å‹åˆ¥å®šç¾© |

## è³‡æ–™åº«é·ç§» (2026/01)

æœ¬å°ˆæ¡ˆå·²å¾ SQLite é·ç§»è‡³ **PostgreSQL** ä»¥æå‡æ•ˆèƒ½èˆ‡æ“´å±•æ€§ã€‚è©³ç´°é·ç§»æµç¨‹è«‹åƒè€ƒ [docs/postgresql_migration_plan.md](docs/postgresql_migration_plan.md)ã€‚

> ğŸ’¡ **é–‹ç™¼ç’°å¢ƒ**: è‹¥éœ€åˆ‡æ›å› SQLiteï¼ˆåƒ…é™æœ¬åœ°æ¸¬è©¦ï¼‰ï¼Œè«‹åƒè€ƒ `prisma/schema.prisma` ä¸­çš„è¨»è§£ä¸¦åˆ‡æ› providerã€‚

---

## å¿«é€Ÿé–‹å§‹

### å®‰è£ä¾è³´

```bash
npm install
```

### åˆå§‹åŒ–è³‡æ–™åº«

```bash
npx prisma generate
npx prisma db push
```

### å»ºç«‹é è¨­ç®¡ç†å“¡ (å¯é¸)

```bash
npx prisma db seed
```

### å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨

```bash
npm run dev
```

é–‹å•Ÿ [http://localhost:3000](http://localhost:3000) å³å¯ä½¿ç”¨ã€‚

---

## é è¨­å¸³è™Ÿ

| è§’è‰² | å¸³è™Ÿ | å¯†ç¢¼ |
|------|------|------|
| Admin | admin | adminpassword|

---

## æ¬Šé™èªªæ˜

| è§’è‰² | ç€è¦½ | æäº¤è®Šæ›´ | å¯©æ ¸ | ç®¡ç†ä½¿ç”¨è€… |
|------|:----:|:--------:|:----:|:----------:|
| Viewer | âœ… | âŒ | âŒ | âŒ |
| Editor | âœ… | âœ… | âŒ | âŒ |
| Inspector | âœ… | âœ… | âœ… | âŒ |
| Admin | âœ… | âœ… | âœ… | âœ… |

---

## å°ˆæ¡ˆçµæ§‹

```
src/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ api/               # API Routes
â”‚   â”œâ”€â”€ admin/             # ç®¡ç†å¾Œå° (å¯©æ ¸ã€ä½¿ç”¨è€…ã€æ­·å²)
â”‚   â”œâ”€â”€ projects/          # å°ˆæ¡ˆé é¢
â”‚   â”œâ”€â”€ items/             # é …ç›®é é¢
â”‚   â”œâ”€â”€ datafiles/         # æª”æ¡ˆç®¡ç†é é¢
â”‚   â””â”€â”€ iso-docs/          # ISO å“è³ªæ–‡ä»¶é é¢
â”œâ”€â”€ actions/               # Server Actions
â”œâ”€â”€ components/            # React å…ƒä»¶
â”‚   â”œâ”€â”€ editor/           # å¯Œæ–‡æœ¬ç·¨è¼¯å™¨
â”‚   â”œâ”€â”€ item/             # é …ç›®ç›¸é—œ
â”‚   â”œâ”€â”€ datafile/         # æª”æ¡ˆç®¡ç†ç›¸é—œ
â”‚   â”œâ”€â”€ history/          # æ­·å²ç´€éŒ„ç›¸é—œ
â”‚   â””â”€â”€ layout/           # ä½ˆå±€å…ƒä»¶
â””â”€â”€ lib/                   # å·¥å…·å‡½å¼
```

---

## æ–‡ä»¶

| æ–‡ä»¶ | èªªæ˜ |
|------|------|
| [docs/task.md](docs/task.md) | é–‹ç™¼é€²åº¦è¿½è¹¤ |
| [docs/tech.md](docs/tech.md) | æŠ€è¡“æ–‡ä»¶ |
| [docs/implementation_plan.md](docs/implementation_plan.md) | åŠŸèƒ½å¯¦ä½œè¨ˆç•« |
| [docs/deployment_guide.md](docs/deployment_guide.md) | Windows éƒ¨ç½²è¦åŠƒ |
| [docs/deployment_steps.md](docs/deployment_steps.md) | Step-by-Step éƒ¨ç½²æŒ‡å— |
| [docs/deployment_checklist.md](docs/deployment_checklist.md) | éƒ¨ç½²æª¢é©—æ¸…å–® |

---

## é–‹ç™¼æŒ‡ä»¤

```bash
# é–‹ç™¼æ¨¡å¼
npm run dev

# å»ºç½®
npm run build

# æ­£å¼ç’°å¢ƒ
npm start

# Prisma Studio (è³‡æ–™åº« GUI)
npx prisma studio

# æ›´æ–° Prisma Client
npx prisma generate
```

---

## Docker éƒ¨ç½²

```bash
# å»ºç½®æ˜ åƒ
docker compose build

# å•Ÿå‹•æœå‹™
docker compose up -d

# æŸ¥çœ‹æ—¥èªŒ
docker compose logs -f
```

---

## License

MIT
